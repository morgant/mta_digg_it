# mta_digg_it v0.2
# Implements embedding of Digg.com's new smart "Digg This" button with Submit capability.
# Morgan Aldridge
# http://www.makkintosshu.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjQ6Im5hbWUiO3M6MTE6Im10YV9kaWdnX2l0IjtzOjc6InZlcnNpb24iO3M6Mzoi
MC4yIjtzOjY6ImF1dGhvciI7czoxNToiTW9yZ2FuIEFsZHJpZGdlIjtzOjEwOiJhdXRob3Jf
dXJpIjtzOjI4OiJodHRwOi8vd3d3Lm1ha2tpbnRvc3NodS5jb20vIjtzOjExOiJkZXNjcmlw
dGlvbiI7czo4NzoiSW1wbGVtZW50cyBlbWJlZGRpbmcgb2YgRGlnZy5jb20ncyBuZXcgc21h
cnQgIkRpZ2cgVGhpcyIgYnV0dG9uIHdpdGggU3VibWl0IGNhcGFiaWxpdHkuIjtzOjQ6InR5
cGUiO2k6MDtzOjQ6ImhlbHAiO3M6NDMxNjoiCTxwPgpUaGlzIHBsdWctaW4gaW1wbGVtZW50
cyBhIHNpbmdsZSB0YWcgKDxjb2RlPm10YV9kaWdnX2l0PC9jb2RlPikgd2hpY2ggd2lsbCBl
bWJlZCBhIDxhIGhyZWY9Imh0dHA6Ly9ibG9nLmRpZ2cuY29tLz9wPTYyIj5zbWFydDwvYT4s
IEphdmFTY3JpcHQgJiM4MjIwO0RpZ2cgVGhpcyYjODIyMTsgYnV0dG9uICh3aXRoIHN1Ym1p
dCBjYXBhYmlsaXR5KSBpbiB5b3VyIGFydGljbGUuIFRoZSBmaXJzdCB0aW1lIHNvbWVvbmUg
Y2xpY2tzIG9uIHRoZSAmIzgyMjA7RGlnZyBUaGlzJiM4MjIxOyBidXR0b24sIHRoZXkmIzgy
MTc7bGwgYmUgYnJvdWdodCB0byBkaWdnLmNvbSYjODIxNztzIDxhIGhyZWY9Imh0dHA6Ly9k
aWdnLmNvbS8iPmxpbmsgc3VibWlzc2lvbjwvYT4gcGFnZSB3aXRoIG1vc3Qgb2YgdGhlIGlu
Zm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rIGFscmVhZHkgZmlsbGVkIG91dCAoeW91IGNhbiBw
cm92aWRlIG1vcmUgb3IgbGVzcyBpbmZvcm1hdGlvbiB1c2luZyB2YXJpb3VzIGF0dHJpYnV0
ZXMpLiBBbnkgc3Vic2VxdWVudCBjbGlja3Mgd2lsbCBiZSBicm91Z2h0IHRvIGRpZ2cuY29t
IHRvICYjODIyMDtkaWdnJiM4MjIxOyB0aGUgYXJ0aWNsZS48L3A+Cgk8aDM+U3ludGF4PC9o
Mz4KCTxwPlRoZSA8Y29kZT5tdGFfZGlnZ19pdDwvY29kZT4gdGFnIGhhcyB0aGUgZm9sbG93
aW5nIHN5bnRhY3RpYyBzdHJ1Y3R1cmU6PC9wPgoJPHA+PGNvZGU+Jmx0O3R4cDptdGFfZGln
Z19pdCAvJmd0OzwvY29kZT48L3A+Cgk8aDM+QXR0cmlidXRlczwvaDM+Cgk8cD5UaGUgPGNv
ZGU+bXRhX2RpZ2dfaXQ8L2NvZGU+IHRhZyB3aWxsIGFjY2VwdCB0aGUgZm9sbG93aW5nIGF0
dHJpYnV0ZXMgKG5vdGU6IGF0dHJpYnV0ZXMgYXJlIDxzdHJvbmc+Y2FzZSBzZW5zaXRpdmU8
L3N0cm9uZz4pOjwvcD4KCTxwPjxzdHJvbmc+PGNvZGU+ZGlnZ191cmw9InN0cmluZyI8L2Nv
ZGU+PC9zdHJvbmc+PC9wPgoJPHA+V2hlbiBwYXNzZWQgYSB1cmwgc3RyaW5nLCB0aGUgVVJM
IG9mIHRoZSBhcnRpY2xlIHN1Ym1pdHRlZCB0byBkaWdnLmNvbSB3aWxsIGJlIHNldCB0byBz
YWlkIHN0cmluZy4gV2hlbiB0aGlzIGF0dHJpYnV0ZSBpcyBub3QgcHJlc2VudCAoZGVmYXVs
dCksIHRoZSBjdXJyZW50IGFydGljbGUmIzgyMTc7cyBwZXJtbGluayBVUkwgd2lsbCBiZSB1
c2VkLjwvcD4KCTxwPjxzdHJvbmc+PGNvZGU+dGl0bGU9InN0cmluZyI8L2NvZGU+PC9zdHJv
bmc+PC9wPgoJPHA+V2hlbiBwYXNzZWQgYSBzdHJpbmcsIHRoZSB0aXRsZSAoc2hvcnQgZGVz
Y3JpcHRpb24pIG9mIHRoZSBhcnRpY2xlIHN1bWJpdHRlZCB0byBkaWdnLmNvbSB3aWxsIGJl
IHNldCB0byBzYWlkIHN0cmluZy4gV2hlbiB0aGlzIGF0dHJpYnV0ZSBpcyBub3QgcHJlc2Vu
dCAoZGVmYXVsdCksIHRoZSBjdXJyZW50IGFydGljbGUmIzgyMTc7cyB0aXRsZSB3aWxsIGJl
IHVzZWQuPC9wPgoJPHA+PHN0cm9uZz48Y29kZT5ib2R5dGV4dD0ic3RyaW5nIjwvY29kZT48
L3N0cm9uZz48L3A+Cgk8cD5XaGVuIHBhc3NlZCBhIHN0cmluZywgdGhlIGJvZHkgdGV4dCAo
bG9uZyBkZXNjcmlwdGlvbikgb2YgdGhlIGFydGljbGUgc3VibWl0dGVkIHRvIGRpZ2cuY29t
IHdpbGwgYmUgc2V0IHRvIHNhaWQgc3RyaW5nLiBXaGVuIHRoaXMgYXR0cmlidXRlIGlzIG5v
dCBwcmVzZW50IChkZWZhdWx0KSwgbm8gYm9keSB0ZXh0IHdpbGwgYmUgc3VibWl0dGVkIGFu
ZCB0aGUgdXNlciBjYW4gc3BlY2lmeSB0aGVpciBvd24uPC9wPgoJPHA+PHN0cm9uZz48Y29k
ZT5kaWdnX3RvcGljPSJzdHJpbmciPC9jb2RlPjwvc3Ryb25nPjwvcD4KCTxwPldoZW4gcGFz
c2VkIGEgc3RyaW5nLCB0aGUgdG9waWMgb2YgdGhlIGFydGljbGUgc3VibWl0dGVkIHRvIGRp
Z2cuY29tIHdpbGwgYmUgc2V0IHRvIHNhaWQgc3RyaW5nLiBXaGVuIGxlZnQgYmxhbmsgb3Ig
dGhlIGF0dHJpYnV0ZSBpcyBub3QgcHJlc2VudCAoZGVmYXVsdCksIG5vIHRvcGljIHdpbGwg
YmUgc3VibWl0dGVkIGFuZCB0aGUgdXNlciB3aWxsIGhhdmUgdG8gc2VsZWN0IG9uZSBvZiB0
aGUgYWJvdmUgbWFudWFsbHkuIEFjY2VwdGFibGUgdmFsdWVzOiA8Y29kZT5hcHBsZTwvY29k
ZT4sIDxjb2RlPmJhc2ViYWxsPC9jb2RlPiwgPGNvZGU+YmFza2V0YmFsbDwvY29kZT4sIDxj
b2RlPmJ1c2luZXNzX2ZpbmFuY2U8L2NvZGU+LCA8Y29kZT5jZWxlYnJpdHk8L2NvZGU+LCA8
Y29kZT5kZXNpZ248L2NvZGU+LCA8Y29kZT5lbnZpcm9ubWVudDwvY29kZT4sIDxjb2RlPmV4
dHJlbWVfc3BvcnRzPC9jb2RlPiwgPGNvZGU+Zm9vdGJhbGw8L2NvZGU+LCA8Y29kZT5nYWRn
ZXRzPC9jb2RlPiwgPGNvZGU+Z2FtaW5nX25ld3M8L2NvZGU+LCA8Y29kZT5nZW5lcmFsX3Nj
aWVuY2VzPC9jb2RlPiwgPGNvZGU+Z29sZjwvY29kZT4sIDxjb2RlPmhhcmR3YXJlPC9jb2Rl
PiwgPGNvZGU+aGVhbHRoPC9jb2RlPiwgPGNvZGU+aG9ja2V5PC9jb2RlPiwgPGNvZGU+bGlu
dXhfdW5peDwvY29kZT4sIDxjb2RlPm1vZHM8L2NvZGU+LCA8Y29kZT5tb3RvcnNwb3J0PC9j
b2RlPiwgPGNvZGU+bW92aWVzPC9jb2RlPiwgPGNvZGU+bXVzaWM8L2NvZGU+LCA8Y29kZT5v
ZmZiZWF0X25ld3M8L2NvZGU+LCA8Y29kZT5vdGhlcl9zcG9ydHM8L2NvZGU+LCA8Y29kZT5w
bGF5YWJsZV93ZWJfZ2FtZXM8L2NvZGU+LCA8Y29kZT5wb2xpdGljYWxfb3BpbmlvbjwvY29k
ZT4sIDxjb2RlPnBvbGl0aWNzPC9jb2RlPiwgPGNvZGU+cHJvZ3JhbW1pbmc8L2NvZGU+LCA8
Y29kZT5zZWN1cml0eTwvY29kZT4sIDxjb2RlPnNvY2NlcjwvY29kZT4sIDxjb2RlPnNvZnR3
YXJlPC9jb2RlPiwgPGNvZGU+c3BhY2U8L2NvZGU+LCA8Y29kZT50ZWNoX2RlYWxzPC9jb2Rl
PiwgPGNvZGU+dGVjaF9uZXdzPC9jb2RlPiwgPGNvZGU+dGVsZXZpc2lvbjwvY29kZT4sIDxj
b2RlPnRlbm5pczwvY29kZT4sIDxjb2RlPnZpZGVvc19hbmltYXRpb248L2NvZGU+LCA8Y29k
ZT52aWRlb3NfY29tZWR5PC9jb2RlPiwgPGNvZGU+dmlkZW9zX2VkdWNhdGlvbmFsPC9jb2Rl
PiwgPGNvZGU+dmlkZW9zX2dhbWluZzwvY29kZT4sIDxjb2RlPnZpZGVvc19tdXNpYzwvY29k
ZT4sIDxjb2RlPnZpZGVvc19wZW9wbGU8L2NvZGU+LCA8Y29kZT52aWRlb3Nfc3BvcnRzPC9j
b2RlPiwgPGNvZGU+d29ybGRfbmV3czwvY29kZT4uPC9wPgoJPHA+PHN0cm9uZz48Y29kZT5i
Z2NvbG9yPSJzdHJpbmciPC9jb2RlPjwvc3Ryb25nPjwvcD4KCTxwPldoZW4gcGFzc2VkIGEg
c3RyaW5nIChhbnkgdmFsaWQgPGEgaHJlZj0iaHR0cDovL3d3dy53M3NjaG9vbHMuY29tL2Nz
cy9jc3NfY29sb3JzLmFzcCI+Q1NTIGNvbG9yPC9hPiksIHRoZSBiYWNrZ3JvdW5kIGNvbG9y
IGFyb3VuZCB0aGUgJiM4MjIwO0RpZ2cgSXQmIzgyMjE7IGJ1dHRvbiB3aWxsIGJlIHNldCB0
byBzYWlkIGNvbG9yLiBXaGVuIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHByZXNlbnQgKGRlZmF1
bHQpIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIHdpbGwgYmUgc2V0IHRvIHdoaXRlLjwvcD4KCTxw
PjxzdHJvbmc+PGNvZGU+Y29tcGFjdD0iaW50ZWdlciI8L2NvZGU+PC9zdHJvbmc+PC9wPgoJ
PHA+V2hlbiBzZXQgdG8gPHN0cm9uZz4xPC9zdHJvbmc+LCBhIHNtYWxsZXIsIGhvcml6b250
YWwgJiM4MjIwO0RpZ2cgSXQmIzgyMjE7IGJ1dHRvbiB3aWxsIGJlIHVzZWQgaW5zdGVhZCBv
ZiB0aGUgc3RhbmRhcmQsIGxhcmdlciwgdmVydGljYWwgJiM4MjIwO0RpZ2cgSXQmIzgyMjE7
IGJ1dHRvbi4gQXZhaWxhYmxlIHZhbHVlczogPHN0cm9uZz4xPC9zdHJvbmc+IG9yIDxzdHJv
bmc+MDwvc3Ryb25nPiAoZGVmYXVsdCkuPC9wPgoJPGgzPkV4YW1wbGVzPC9oMz4KCTxwPjxj
b2RlPiZsdDt0eHA6bXRhX2RpZ2dfaXQgLyZndDs8L2NvZGU+PC9wPgoJPHA+PGNvZGU+Jmx0
O3R4cDptdGFfZGlnZ19pdCBza2luPSJjb21wYWN0IiBiZ2NvbG9yPSIjMDAwIi8mZ3Q7PC9j
b2RlPjwvcD4KCTxwPjxjb2RlPiZsdDt0eHA6bXRhX2RpZ2dfaXQgYm9keXRleHQ9IiZsdDt0
eHA6ZXhjZXJwdCAvJmd0OyIgLyZndDs8L2NvZGU+PC9wPgoJPGgzPkNoYW5nZSBMb2c8L2gz
PgoJPHA+djAuMiBDb3JyZWN0bHkgZXNjYXBlcyBhcG9zdHJvcGhlcywgcXVvdGVzLCBldGMu
IGZvdW5kIGluIDxjb2RlPnRpdGxlPC9jb2RlPiBhbmQvb3IgPGNvZGU+Ym9keXRleHQ8L2Nv
ZGU+IGF0dHJpYnV0ZXMuIEFsc28gbm93IHJlc2V0cyBhbGwgdmFyaWFibGVzIHRvIGJldHRl
ciBzdXBwb3J0IG11bHRpcGxlICYjODIyMDtEaWdnIFRoaXMmIzgyMjE7IGJ1dHRvbnMgcGVy
IHBhZ2Ugd2hlbiBjZXJ0YWluIGF0dHJpYnV0ZXMgYXJlIHVzZWQuPC9wPgoJPHA+djAuMSBJ
bml0aWFsIHJlbGVhc2UuPC9wPgoKCiAiO3M6NDoiY29kZSI7czo5MjY6IgoKZnVuY3Rpb24g
bXRhX2RpZ2dfaXQoJGF0dHMpCnsKCWdsb2JhbCAkdGhpc2FydGljbGU7CgkkZGlnZ19qcyA9
ICcnOwoKCWV4dHJhY3QobEF0dHMoYXJyYXkoCgkJJ2RpZ2dfdXJsJyA9PiBwZXJtbGlua3Vy
bCgkdGhpc2FydGljbGUpLAoJCSd0aXRsZScgPT4gJHRoaXNhcnRpY2xlWyd0aXRsZSddLAoJ
CSdib2R5dGV4dCcgPT4gJycsCgkJJ2RpZ2dfdG9waWMnID0+ICcnLAoJCSdiZ2NvbG9yJyA9
PiAnJywKCQknY29tcGFjdCcgPT4gMAoJKSwkYXR0cykpOwoKCSRkaWdnX2pzIC49ICc8c2Ny
aXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+Jy4iXG4iOwoJJGRpZ2dfanMgLj0gJ2RpZ2df
dXJsID0gXCcnLiRkaWdnX3VybC4iJztcbiI7CgkkZGlnZ19qcyAuPSAnZGlnZ190aXRsZSA9
IFwnJy5hZGRzbGFzaGVzKGh0bWxzcGVjaWFsY2hhcnMoJHRpdGxlKSkuIic7XG4iOwoJJGRp
Z2dfanMgLj0gJ2RpZ2dfYm9keXRleHQgPSBcJycuYWRkc2xhc2hlcyhodG1sc3BlY2lhbGNo
YXJzKCRib2R5dGV4dCkpLiInO1xuIjsKCSRkaWdnX2pzIC49ICdkaWdnX3RvcGljID0gXCcn
LiRkaWdnX3RvcGljLiInO1xuIjsKCSRkaWdnX2pzIC49ICdkaWdnX2JnY29sb3IgPSBcJycu
JGJnY29sb3IuIic7XG4iOwogICAgaWYgKCAkY29tcGFjdCA9PSAxICkKICAgIHsKICAgIAkk
ZGlnZ19qcyAuPSAnZGlnZ19za2luID0gXCdjb21wYWN0XCc7Jy4iXG4iOwogICAgfQogICAg
ZWxzZQogICAgewogICAgCSRkaWdnX2pzIC49ICdkaWdnX3NraW4gPSBcJ1wnOycuIlxuIjsK
ICAgIH0KICAgICRkaWdnX2pzIC49ICc8L3NjcmlwdD4nLiJcbiI7CgoJJGRpZ2dfanMgLj0g
JzxzY3JpcHQgc3JjPSJodHRwOi8vZGlnZy5jb20vdG9vbHMvZGlnZ3RoaXMuanMiIHR5cGU9
InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+JzsKCglyZXR1cm4gJGRpZ2dfanM7Cn0KIjtz
OjM6Im1kNSI7czozMjoiNmE0NzhiZGY4MjUyNDJjODNjMGQ4MGE0YzhmYjg2NzMiO30=
