# mta_digg_it v0.3
# Implements embedding of Digg.com's new smart "Digg This" button with Submit capability.
# Morgan Aldridge
# http://www.makkintosshu.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjQ6Im5hbWUiO3M6MTE6Im10YV9kaWdnX2l0IjtzOjc6InZlcnNpb24iO3M6Mzoi
MC4zIjtzOjY6ImF1dGhvciI7czoxNToiTW9yZ2FuIEFsZHJpZGdlIjtzOjEwOiJhdXRob3Jf
dXJpIjtzOjI4OiJodHRwOi8vd3d3Lm1ha2tpbnRvc3NodS5jb20vIjtzOjExOiJkZXNjcmlw
dGlvbiI7czo4NzoiSW1wbGVtZW50cyBlbWJlZGRpbmcgb2YgRGlnZy5jb20ncyBuZXcgc21h
cnQgIkRpZ2cgVGhpcyIgYnV0dG9uIHdpdGggU3VibWl0IGNhcGFiaWxpdHkuIjtzOjQ6InR5
cGUiO2k6MDtzOjQ6ImhlbHAiO3M6NTczOToiCTxwPgpUaGlzIHBsdWctaW4gaW1wbGVtZW50
cyBhIHNpbmdsZSB0YWcgKDxjb2RlPm10YV9kaWdnX2l0PC9jb2RlPikgd2hpY2ggd2lsbCBl
bWJlZCBhIDxhIGhyZWY9Imh0dHA6Ly9ibG9nLmRpZ2cuY29tLz9wPTYyIj5zbWFydDwvYT4s
IEphdmFTY3JpcHQgJiM4MjIwO0RpZ2cgVGhpcyYjODIyMTsgYnV0dG9uICh3aXRoIHN1Ym1p
dCBjYXBhYmlsaXR5KSBpbiB5b3VyIGFydGljbGUuIFRoZSBmaXJzdCB0aW1lIHNvbWVvbmUg
Y2xpY2tzIG9uIHRoZSAmIzgyMjA7RGlnZyBUaGlzJiM4MjIxOyBidXR0b24sIHRoZXkmIzgy
MTc7bGwgYmUgYnJvdWdodCB0byBkaWdnLmNvbSYjODIxNztzIDxhIGhyZWY9Imh0dHA6Ly9k
aWdnLmNvbS8iPmxpbmsgc3VibWlzc2lvbjwvYT4gcGFnZSB3aXRoIG1vc3Qgb2YgdGhlIGlu
Zm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rIGFscmVhZHkgZmlsbGVkIG91dCAoeW91IGNhbiBw
cm92aWRlIG1vcmUgb3IgbGVzcyBpbmZvcm1hdGlvbiB1c2luZyB2YXJpb3VzIGF0dHJpYnV0
ZXMpLiBBbnkgc3Vic2VxdWVudCBjbGlja3Mgd2lsbCBiZSBicm91Z2h0IHRvIGRpZ2cuY29t
IHRvICYjODIyMDtkaWdnJiM4MjIxOyB0aGUgYXJ0aWNsZS48L3A+Cgk8aDM+U3ludGF4PC9o
Mz4KCTxwPlRoZSA8Y29kZT5tdGFfZGlnZ19pdDwvY29kZT4gdGFnIGhhcyB0aGUgZm9sbG93
aW5nIHN5bnRhY3RpYyBzdHJ1Y3R1cmU6PC9wPgoJPHA+PGNvZGU+Jmx0O3R4cDptdGFfZGln
Z19pdCAvJmd0OzwvY29kZT48L3A+Cgk8aDM+QXR0cmlidXRlczwvaDM+Cgk8cD5UaGUgPGNv
ZGU+bXRhX2RpZ2dfaXQ8L2NvZGU+IHRhZyB3aWxsIGFjY2VwdCB0aGUgZm9sbG93aW5nIGF0
dHJpYnV0ZXMgKG5vdGU6IGF0dHJpYnV0ZXMgYXJlIDxzdHJvbmc+Y2FzZSBzZW5zaXRpdmU8
L3N0cm9uZz4pOjwvcD4KCTxwPjxzdHJvbmc+PGNvZGU+ZGlnZ191cmw9InN0cmluZyI8L2Nv
ZGU+PC9zdHJvbmc+PC9wPgoJPHA+V2hlbiBwYXNzZWQgYSB1cmwgc3RyaW5nLCB0aGUgVVJM
IG9mIHRoZSBhcnRpY2xlIHN1Ym1pdHRlZCB0byBkaWdnLmNvbSB3aWxsIGJlIHNldCB0byBz
YWlkIHN0cmluZy4gV2hlbiB0aGlzIGF0dHJpYnV0ZSBpcyBub3QgcHJlc2VudCAoZGVmYXVs
dCksIHRoZSBjdXJyZW50IGFydGljbGUmIzgyMTc7cyBwZXJtbGluayBVUkwgd2lsbCBiZSB1
c2VkLjwvcD4KCTxwPjxzdHJvbmc+PGNvZGU+dGl0bGU9InN0cmluZyI8L2NvZGU+PC9zdHJv
bmc+PC9wPgoJPHA+V2hlbiBwYXNzZWQgYSBzdHJpbmcsIHRoZSB0aXRsZSAoc2hvcnQgZGVz
Y3JpcHRpb24pIG9mIHRoZSBhcnRpY2xlIHN1bWJpdHRlZCB0byBkaWdnLmNvbSB3aWxsIGJl
IHNldCB0byBzYWlkIHN0cmluZy4gV2hlbiB0aGlzIGF0dHJpYnV0ZSBpcyBub3QgcHJlc2Vu
dCAoZGVmYXVsdCksIHRoZSBjdXJyZW50IGFydGljbGUmIzgyMTc7cyB0aXRsZSB3aWxsIGJl
IHVzZWQuPC9wPgoJPHA+PHN0cm9uZz48Y29kZT5ib2R5dGV4dD0ic3RyaW5nIjwvY29kZT48
L3N0cm9uZz48L3A+Cgk8cD5XaGVuIHBhc3NlZCBhIHN0cmluZywgdGhlIGJvZHkgdGV4dCAo
bG9uZyBkZXNjcmlwdGlvbikgb2YgdGhlIGFydGljbGUgc3VibWl0dGVkIHRvIGRpZ2cuY29t
IHdpbGwgYmUgc2V0IHRvIHNhaWQgc3RyaW5nLiBJZiBwYXNzZWQgJiM4MjE3O0BleGNlcnB0
QCYjODIxNzssIHRoZSBhcnRpY2xlJiM4MjE3O3MgZXhjZXJwdCB3aWxsIGJlIHN1Ym1pdHRl
ZC4gV2hlbiB0aGlzIGF0dHJpYnV0ZSBpcyBub3QgcHJlc2VudCAoZGVmYXVsdCksIG5vIGJv
ZHkgdGV4dCB3aWxsIGJlIHN1Ym1pdHRlZCBhbmQgdGhlIHVzZXIgY2FuIHNwZWNpZnkgdGhl
aXIgb3duLjwvcD4KCTxwPjxzdHJvbmc+PGNvZGU+ZGlnZ190b3BpYz0ic3RyaW5nIjwvY29k
ZT48L3N0cm9uZz48L3A+Cgk8cD5XaGVuIHBhc3NlZCBhIHN0cmluZywgdGhlIHRvcGljIG9m
IHRoZSBhcnRpY2xlIHN1Ym1pdHRlZCB0byBkaWdnLmNvbSB3aWxsIGJlIHNldCB0byBzYWlk
IHN0cmluZy4gV2hlbiBsZWZ0IGJsYW5rIG9yIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHByZXNl
bnQgKGRlZmF1bHQpLCBubyB0b3BpYyB3aWxsIGJlIHN1Ym1pdHRlZCBhbmQgdGhlIHVzZXIg
d2lsbCBoYXZlIHRvIHNlbGVjdCBvbmUgb2YgdGhlIGFib3ZlIG1hbnVhbGx5LiBBY2NlcHRh
YmxlIHZhbHVlczogPGNvZGU+MjAwOF91c19lbGVjdGlvbnM8L2NvZGU+LCA8Y29kZT5hcHBs
ZTwvY29kZT4sIDxjb2RlPmFydHNfY3VsdHVyZTwvY29kZT4sIDxjb2RlPmF1dG9zPC9jb2Rl
PiwgPGNvZGU+YmFzZWJhbGw8L2NvZGU+LCA8Y29kZT5iYXNrZXRiYWxsPC9jb2RlPiwgPGNv
ZGU+YnVzaW5lc3NfZmluYW5jZTwvY29kZT4sIDxjb2RlPmNlbGVicml0eTwvY29kZT4sIDxj
b2RlPmNvbWVkeTwvY29kZT4sIDxjb2RlPmNvbWljc19hbmltYXRpb248L2NvZGU+LCA8Y29k
ZT5kZXNpZ248L2NvZGU+LCA8Y29kZT5lZHVjYXRpb25hbDwvY29kZT4sIDxjb2RlPmVudmly
b25tZW50PC9jb2RlPiwgPGNvZGU+ZXh0cmVtZV9zcG9ydHM8L2NvZGU+LCA8Y29kZT5mb29k
X2RyaW5rPC9jb2RlPiwgPGNvZGU+Zm9vdGJhbGw8L2NvZGU+LCA8Y29kZT5nYWRnZXRzPC9j
b2RlPiwgPGNvZGU+Z2FtaW5nX25ld3M8L2NvZGU+LCA8Y29kZT5nZW5lcmFsX3NjaWVuY2Vz
PC9jb2RlPiwgPGNvZGU+Z29sZjwvY29kZT4sIDxjb2RlPmhhcmR3YXJlPC9jb2RlPiwgPGNv
ZGU+aGVhbHRoPC9jb2RlPiwgPGNvZGU+aG9ja2V5PC9jb2RlPiwgPGNvZGU+bGludXhfdW5p
eDwvY29kZT4sIDxjb2RlPm1pY3Jvc29mdDwvY29kZT4sIDxjb2RlPm1vZHM8L2NvZGU+LCA8
Y29kZT5tb3RvcnNwb3J0PC9jb2RlPiwgPGNvZGU+bW92aWVzPC9jb2RlPiwgPGNvZGU+bXVz
aWM8L2NvZGU+LCA8Y29kZT5uaW50ZW5kbzwvY29kZT4sIDxjb2RlPm9kZF9zdHVmZjwvY29k
ZT4sIDxjb2RlPm90aGVyX3Nwb3J0czwvY29kZT4sIDxjb2RlPnBjX2dhbWVzPC9jb2RlPiwg
PGNvZGU+cGVvcGxlPC9jb2RlPiwgPGNvZGU+cGV0c19hbmltYWxzPC9jb2RlPiwgPGNvZGU+
cGxheWFibGVfd2ViX2dhbWVzPC9jb2RlPiwgPGNvZGU+cGxheXN0YXRpb248L2NvZGU+LCA8
Y29kZT5wb2xpdGljYWxfb3BpbmlvbjwvY29kZT4sIDxjb2RlPnBvbGl0aWNzPC9jb2RlPiwg
PGNvZGU+cHJvZ3JhbW1pbmc8L2NvZGU+LCA8Y29kZT5zZWN1cml0eTwvY29kZT4sIDxjb2Rl
PnNvY2NlcjwvY29kZT4sIDxjb2RlPnNvZnR3YXJlPC9jb2RlPiwgPGNvZGU+c3BhY2U8L2Nv
ZGU+LCA8Y29kZT50ZWNoX25ld3M8L2NvZGU+LCA8Y29kZT50ZWxldmlzaW9uPC9jb2RlPiwg
PGNvZGU+dGVubmlzPC9jb2RlPiwgPGNvZGU+dHJhdmVsX3BsYWNlczwvY29kZT4sIDxjb2Rl
PndvcmxkX25ld3M8L2NvZGU+LCA8Y29kZT54Ym94PC9jb2RlPi48L3A+Cgk8cD48c3Ryb25n
Pjxjb2RlPm1lZGlhPSJzdHJpbmciPC9jb2RlPjwvc3Ryb25nPjwvcD4KCTxwPldoZW4gcGFz
c2VkIGEgc3RyaW5nLCB0aGUgbWVkaWEgdHlwZSBvZiB0aGUgYXJ0aWNsZSBzdWJtaXR0ZWQg
dG8gZGlnZy5jb20gd2lsbCBiZSBzZXQgdG8gc2FpZCBzdHJpbmcuIEFjY2VwdGFibGUgdmFs
dWVzOiA8Y29kZT5uZXdzPC9jb2RlPiAoZGVmYXVsdCksIDxjb2RlPmltYWdlPC9jb2RlPiwg
b3IgPGNvZGU+dmlkZW88L2NvZGU+LjwvcD4KCTxwPjxzdHJvbmc+PGNvZGU+Ymdjb2xvcj0i
c3RyaW5nIjwvY29kZT48L3N0cm9uZz48L3A+Cgk8cD5XaGVuIHBhc3NlZCBhIHN0cmluZyAo
YW55IHZhbGlkIDxhIGhyZWY9Imh0dHA6Ly93d3cudzNzY2hvb2xzLmNvbS9jc3MvY3NzX2Nv
bG9ycy5hc3AiPkNTUyBjb2xvcjwvYT4pLCB0aGUgYmFja2dyb3VuZCBjb2xvciBhcm91bmQg
dGhlICYjODIyMDtEaWdnIEl0JiM4MjIxOyBidXR0b24gd2lsbCBiZSBzZXQgdG8gc2FpZCBj
b2xvci4gV2hlbiB0aGUgYXR0cmlidXRlIGlzIG5vdCBwcmVzZW50IChkZWZhdWx0KSB0aGUg
YmFja2dyb3VuZCBjb2xvciB3aWxsIGJlIHNldCB0byB3aGl0ZS48L3A+Cgk8cD48c3Ryb25n
Pjxjb2RlPmNvbXBhY3Q9ImludGVnZXIiPC9jb2RlPiAoREVQUkVDQVRFRCk8L3N0cm9uZz48
L3A+Cgk8cD5XaGVuIHNldCB0byA8c3Ryb25nPjE8L3N0cm9uZz4sIGEgc21hbGxlciwgaG9y
aXpvbnRhbCAmIzgyMjA7RGlnZyBJdCYjODIyMTsgYnV0dG9uIHdpbGwgYmUgdXNlZCBpbnN0
ZWFkIG9mIHRoZSBzdGFuZGFyZCwgbGFyZ2VyLCB2ZXJ0aWNhbCAmIzgyMjA7RGlnZyBJdCYj
ODIyMTsgYnV0dG9uLiBBdmFpbGFibGUgdmFsdWVzOiA8c3Ryb25nPjE8L3N0cm9uZz4gb3Ig
PHN0cm9uZz4wPC9zdHJvbmc+IChkZWZhdWx0KS48L3A+Cgk8cD48c3Ryb25nPjxjb2RlPnNr
aW49InN0cmluZyI8L2NvZGU+PC9zdHJvbmc+PC9wPgoJPHA+V2hlbiBwYXNzZWQgYSBzdHJp
bmcsIHRoZSBza2luL3RoZW1lIG9mIHRoZSAmIzgyMjA7RGlnZyBJdCYjODIyMTsgYnV0dG9u
IHdpbGwgYmUgc2V0IHRvIHRoYXQgbmFtZWQgc2tpbi4gQW4gZW1wdHkgb3IgdW5yZWNvZ25p
emVkIHN0cmluZyB3aWxsIHJlc3VsdCBpbiB0aGUgc3RhbmRhcmQsIGxhcmdlciwgdmVydGlj
YWwgJiM4MjIwO0RpZ2cgSXQmIzgyMjE7IGJ1dHRvbiB3aXRoIGRpZ2cgY291bnQuIEFjY2Vw
dGFibGUgdmFsdWVzOiA8Y29kZT5jb21wYWN0PC9jb2RlPiBvciA8Y29kZT5pY29uPC9jb2Rl
Pi4gJiM4MjE2O2NvbXBhY3QmIzgyMTc7IGlzIGEgJiM4MjIwO3NtYWxsZXIgaG9yaXpvbnRh
bCBbJiM4MjIwO0RpZ2cgSXQmIzgyMjE7IGJ1dHRvbl0gaXMgdXNlZCB0aGF0IHdpbGwgZml0
IGJldHRlciBpbnRvIGEgbGlzdCBvZiBsaW5rcyYjODIyMTspIGFuZDxiciAvPgomIzgyMTY7
aWNvbiYjODIxNzsgaXMgYSAxNiYjMjE1OzE2IHBpeGVsICYjODIyMDtEaWdnIEl0JiM4MjIx
OyBidXR0b24gd2lsbCBiZSB1c2VkIHdoaWNoICYjODIyMDthbHNvIHdpbGwgcHJvdmlkZSB0
aGUgY3VycmVudCBkaWdnIGNvdW50IG9mIHRoZSBzdG9yeSB3aGVuIHRoZSBjdXJzb3IgaG92
ZXJzIG92ZXIgaXQuJiM4MjIxOzwvcD4KCTxoMz5FeGFtcGxlczwvaDM+Cgk8cD48Y29kZT4m
bHQ7dHhwOm10YV9kaWdnX2l0IC8mZ3Q7PC9jb2RlPjwvcD4KCTxwPjxjb2RlPiZsdDt0eHA6
bXRhX2RpZ2dfaXQgc2tpbj0iY29tcGFjdCIgYmdjb2xvcj0iIzAwMCIvJmd0OzwvY29kZT48
L3A+Cgk8cD48Y29kZT4mbHQ7dHhwOm10YV9kaWdnX2l0IGJvZHl0ZXh0PSJleGNlcnB0IiAv
Jmd0OzwvY29kZT48L3A+Cgk8aDM+Q2hhbmdlIExvZzwvaDM+Cgk8cD52MC4zIEFkZGl0aW9u
IG9mICYjODIxNjttZWRpYSYjODIxNzsgJiMzODsgJiM4MjE2O3NraW4mIzgyMTc7IGF0dHJp
YnV0ZXMgKGRlcHJlY2F0ZWQgdGhlICYjODIxNjtjb21wYWN0JiM4MjE3OyBhdHRyaWJ1dGUp
LCBvcHRpb25hbCBleGNlcHQgaW5zZXJ0IGZvciAmIzgyMTY7Ym9keXRleHQmIzgyMTc7IGF0
dHJpYnV0ZSwgdXBkYXRlZCBsaXN0IG9mIGFjY2VwdGFibGUgdG9waWNzLCBhbmQgdXBkYXRl
ZCBkb2N1bWVudGF0aW9uLjwvcD4KCTxwPnYwLjIgQ29ycmVjdGx5IGVzY2FwZXMgYXBvc3Ry
b3BoZXMsIHF1b3RlcywgZXRjLiBmb3VuZCBpbiA8Y29kZT50aXRsZTwvY29kZT4gYW5kL29y
IDxjb2RlPmJvZHl0ZXh0PC9jb2RlPiBhdHRyaWJ1dGVzLiBBbHNvIG5vdyByZXNldHMgYWxs
IHZhcmlhYmxlcyB0byBiZXR0ZXIgc3VwcG9ydCBtdWx0aXBsZSAmIzgyMjA7RGlnZyBUaGlz
JiM4MjIxOyBidXR0b25zIHBlciBwYWdlIHdoZW4gY2VydGFpbiBhdHRyaWJ1dGVzIGFyZSB1
c2VkLjwvcD4KCTxwPnYwLjEgSW5pdGlhbCByZWxlYXNlLjwvcD4KCgogIjtzOjQ6ImNvZGUi
O3M6MTA1MjoiCgpmdW5jdGlvbiBtdGFfZGlnZ19pdCgkYXR0cykKewoJZ2xvYmFsICR0aGlz
YXJ0aWNsZTsKCSRkaWdnX2pzID0gJyc7CgoJZXh0cmFjdChsQXR0cyhhcnJheSgKCQknZGln
Z191cmwnID0+IHBlcm1saW5rdXJsKCR0aGlzYXJ0aWNsZSksCgkJJ3RpdGxlJyA9PiAkdGhp
c2FydGljbGVbJ3RpdGxlJ10sCgkJJ2JvZHl0ZXh0JyA9PiAnJywKCQknZGlnZ190b3BpYycg
PT4gJycsCgkJJ21lZGlhJyA9PiAnbmV3cycsCgkJJ2JnY29sb3InID0+ICcnLAoJCSdjb21w
YWN0JyA9PiAwLAoJCSdza2luJyA9PiAnJwoJKSwkYXR0cykpOwoKCSRkaWdnX2pzIC49ICc8
c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+Jy4iXG4iOwoJJGRpZ2dfanMgLj0gJ2Rp
Z2dfdXJsID0gXCcnLiRkaWdnX3VybC4iJztcbiI7CgkkZGlnZ19qcyAuPSAnZGlnZ190aXRs
ZSA9IFwnJy5hZGRzbGFzaGVzKGh0bWxzcGVjaWFsY2hhcnMoJHRpdGxlKSkuIic7XG4iOwoJ
aWYgKCBzdHJ0b2xvd2VyKCRib2R5dGV4dCkgPT0gJ2V4Y2VycHQnICkKCXsKCQkkYm9keXRl
eHQgPSBleGNlcnB0KCR0aGlzYXJ0aWNsZSk7Cgl9CgkkZGlnZ19qcyAuPSAnZGlnZ19ib2R5
dGV4dCA9IFwnJy5hZGRzbGFzaGVzKGh0bWxzcGVjaWFsY2hhcnMoJGJvZHl0ZXh0KSkuIic7
XG4iOwoJJGRpZ2dfanMgLj0gJ2RpZ2dfdG9waWMgPSBcJycuJGRpZ2dfdG9waWMuIic7XG4i
OwoJJGRpZ2dfanMgLj0gJ2RpZ2dfbWVkaWEgPSBcJycuJG1lZGlhLiInO1xuIjsKCSRkaWdn
X2pzIC49ICdkaWdnX2JnY29sb3IgPSBcJycuJGJnY29sb3IuIic7XG4iOwogICAgaWYgKCAk
Y29tcGFjdCA9PSAxICkKICAgIHsKICAgIAkkc2tpbiA9ICdjb21wYWN0JzsKICAgIH0KICAg
ICRkaWdnX2pzIC49ICdkaWdnX3NraW4gPSBcJycuJHNraW4uIic7XG4iOwogICAgJGRpZ2df
anMgLj0gJzwvc2NyaXB0PicuIlxuIjsKCgkkZGlnZ19qcyAuPSAnPHNjcmlwdCBzcmM9Imh0
dHA6Ly9kaWdnLmNvbS90b29scy9kaWdndGhpcy5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0
Ij48L3NjcmlwdD4nOwoKCXJldHVybiAkZGlnZ19qczsKfQoiO3M6MzoibWQ1IjtzOjMyOiI0
MDljMjRkNGIxM2FmM2Y1OTQ1YjdhNzYzMmI2OWM0MCI7fQ==
